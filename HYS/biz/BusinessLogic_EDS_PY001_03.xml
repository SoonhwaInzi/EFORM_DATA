<?xml version="1.0" encoding="UTF-8"?>
<BusinessLogicXML id="EDS_PY001_03" version="0.9" title="은행이체출금(3531)">
 <OpenForms>
  <FormInfo documentId="1" formId="30100902" replace="false" />
 </OpenForms>
 <EssentialFields>
  <FieldInfo documentId="1" formId="30100902" id="TKMNY_TRSF" type="check" value="" />
  <FieldInfo documentId="1" formId="30100902" id="TKMNY_ACNO" type="edit" value="" />
  <FieldInfo documentId="1" formId="30100902" id="TKMNY_AMUT_1" type="edit" value="" />
  <FieldInfo documentId="1" formId="30100902" id="TKMNY_AMUT_2" type="edit" value="" />
  <FieldInfo documentId="1" formId="30100902" id="P_TKMNY_CUST_NM" type="pen" value="" />
  <FieldInfo documentId="1" formId="30100902" id="P_TKMNY_CUST_SIGN" type="pen" value="" />
  <FieldInfo documentId="1" formId="30100902" id="TRSF_BANK" type="edit" value="" />
  <FieldInfo documentId="1" formId="30100902" id="TRSF_ACNO" type="edit" value="" />
 </EssentialFields>
 <PlaceHolderFields />
 <!-- ******************** 단말 -> 서식 전송 ******************** -->
 <SetValueToDocumentMethods>
  <!-- 직원정보 -->
  <SetValueToDocumentMethod T_FieldId="emp_nm" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="emp_nm" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="emp_brnm" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="emp_brnm" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="emp_no" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="emp_no" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="emp_position" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="emp_position" type="edit" value="" />
  </SetValueToDocumentMethod>
  <!-- 3531 -->
  <SetValueToDocumentMethod T_FieldId="3531_D1출금계좌번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="TKMNY_ACNO" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531_D1출금금액" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="TKMNY_AMUT_2" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531_D1은행계좌번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="TRSF_ACNO" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531_D1전화국번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="tlno_1" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531_D1전화지역번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="tlno_2" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531_D1전화일련번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="tlno_3" type="edit" value="" />
  </SetValueToDocumentMethod>
  <!-- 3531E -->
  <SetValueToDocumentMethod T_FieldId="3531E_D20계좌번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_ACNO" type="edit" value="" />
   <JavaScript id="checkAcno" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20계좌명" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_ACNM" type="edit" value="" />
   <FieldInfo documentId="1" formId="30100902" id="check_print" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20이체번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_TRSF_NO" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20출금액" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_AMUT" type="edit" value="" />
   <JavaScript id="checkMoney" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20수수료" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_FEE" type="edit" value="" />
   <JavaScript id="checkMoney" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20금잔" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_AFTR_AMUT" type="edit" value="" />
   <JavaScript id="checkMoney" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20은행코드" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_BANK_CD" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20은행계좌번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_BANK_ACNO" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20은행계좌명" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_BANK_ACNM" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20처리일시" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_DATE" type="edit" value="" />
   <JavaScript><![CDATA[function checkDateTime(value)
        {
          return  value.replace(/[^0-9]/g, '').replace(/([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{3})/g, "$1/$2/$3 $4:$5:$6");
        }]]></JavaScript>
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20출납번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_NO_1" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20처리지점" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_BRC_NO" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20사용자ID" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_BRC_ID" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20구분명1" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_BANK" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20종목번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_CPCD" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20구분명2" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_YEAR" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20전표텍스트" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_MONTH" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20구분명3" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_DAY" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20전표탬프" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_TMP" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20전표번호" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_NO" type="edit" value="" />
  </SetValueToDocumentMethod>
  <SetValueToDocumentMethod T_FieldId="3531E_D20누계금액" method="SetValueToDocument">
   <FieldInfo documentId="1" formId="30100902" id="V_SUM_AMUT" type="edit" value="" />
   <JavaScript id="checkMoney" />
  </SetValueToDocumentMethod>
 </SetValueToDocumentMethods>
 <!-- ******************** 서식 필드에 값이 입력되면 입력된 값에 따라 해야 할 일들을 정의 ******************** -->
 <ReactionRules>
  <!-- 연락처 -->
  <SetValueCompleteField documentId="1" formId="30100902" fieldId="DPST_N_BKB_TLNO">
   <Reaction>
    <Condition>
     <JavaScript id="isNotNull" />
    </Condition>
    <Action method="SetValueEx">
     <FieldInfo documentId="1" formId="30100902" id="DPST_N_BKB_TLNO" type="edit" usage="return" runReactionRule="false" />
     <JavaScript id="checkPhoneNum" />
    </Action>
    <Action method="SetValueEx">
     <FieldInfo documentId="1" formId="30100902" id="DPST_N_BKB_TLNO" type="edit" usage="parameter" />
     <FieldInfo documentId="1" formId="30100902" id="tlno_1" type="edit" usage="return" runReactionRule="false" />
     <FieldInfo documentId="1" formId="30100902" id="tlno_2" type="edit" usage="return" runReactionRule="false" />
     <FieldInfo documentId="1" formId="30100902" id="tlno_3" type="edit" usage="return" runReactionRule="false" />
     <JavaScript id="divPhoneNum" />
    </Action>
   </Reaction>
  </SetValueCompleteField>
  <SetValueCompleteField documentId="1" formId="30100902" fieldId="tel_1,tel_2,tel_3">
   <Reaction>
    <Condition>
     <JavaScript id="isNotNull" />
    </Condition>
    <Action method="SetValueEx">
     <FieldInfo documentId="1" formId="30100902" id="tel_1" type="edit" usage="parameter" />
     <FieldInfo documentId="1" formId="30100902" id="tel_2" type="edit" usage="parameter" />
     <FieldInfo documentId="1" formId="30100902" id="tel_3" type="edit" usage="parameter" />
     <FieldInfo documentId="1" formId="30100902" id="DPST_N_BKB_TLNO" type="edit" usage="return" runReactionRule="false" />
     <JavaScript id="makePhoneNum" />
    </Action>
   </Reaction>
  </SetValueCompleteField>
  <!-- 실명확인번호 -->
  <SetValueCompleteField documentId="1" formId="30100902" fieldId="DPST_N_BKB_IDNO">
   <Reaction>
    <Condition>
     <JavaScript id="isNotNull" />
    </Condition>
    <Action method="SetValueEx">
     <FieldInfo documentId="1" formId="30100902" id="DPST_N_BKB_IDNO" type="edit" usage="return" runReactionRule="false" />
     <JavaScript id="checkRegno" />
    </Action>
   </Reaction>
  </SetValueCompleteField>
  <!-- 계좌번호 -->
  <SetValueCompleteField documentId="1" formId="30100902" fieldId="TKMNY_ACNO">
   <Reaction>
    <Condition>
     <JavaScript id="isNotNull" />
    </Condition>
    <Action method="SetValueEx">
     <FieldInfo documentId="1" formId="30100902" id="TKMNY_ACNO" type="edit" usage="return" runReactionRule="false" />
     <JavaScript id="checkAcno" />
    </Action>
   </Reaction>
  </SetValueCompleteField>
  <SetValueCompleteField documentId="1" formId="30100902" fieldId="DPST_ACNO">
   <Reaction>
    <Condition>
     <JavaScript id="isNotNull" />
    </Condition>
    <Action method="SetValueEx">
     <FieldInfo documentId="1" formId="30100902" id="DPST_ACNO" type="edit" usage="return" runReactionRule="false" />
     <JavaScript id="checkAcno" />
    </Action>
   </Reaction>
  </SetValueCompleteField>
  <!-- 유선일경우 -->
  <SetValueCompleteField documentId="1" formId="30100902" fieldId="CALL">
   <Reaction>
    <Condition>
     <JavaScript id="isCheckTrue" />
    </Condition>
    <Action method="ShowHideField">
     <FieldInfo documentId="1" formId="30100902" id="P_TKMNY_CUST_NM" type="pen" value="false" />
     <FieldInfo documentId="1" formId="30100902" id="TKMNY_CUST_NM" type="edit" value="true" />
    </Action>
    <Action method="SetEssential">
     <FieldInfo documentId="1" formId="30100902" id="P_TKMNY_CUST_SIGN" type="pen" essential="false" />
     <FieldInfo documentId="1" formId="30100902" id="TRSF_ACNO" type="edit" essential="false" />
    </Action>
    <ElseReaction>
     <Action method="ShowHideField">
      <FieldInfo documentId="1" formId="30100902" id="P_TKMNY_CUST_NM" type="pen" value="true" />
      <FieldInfo documentId="1" formId="30100902" id="TKMNY_CUST_NM" type="edit" value="false" />
     </Action>
     <Action method="SetEssential">
      <FieldInfo documentId="1" formId="30100902" id="P_TKMNY_CUST_SIGN" type="pen" essential="true" />
      <FieldInfo documentId="1" formId="30100902" id="TRSF_ACNO" type="edit" essential="true" />
     </Action>
    </ElseReaction>
   </Reaction>
  </SetValueCompleteField>
  <!-- 500만원 이상 출금 시 문진표 추가, 유선 시 추가X -->
  <SetValueCompleteField documentId="1" formId="30100902" fieldId="TKMNY_AMUT_2,CALL">
   <Reaction>
    <Condition>
     <FieldInfo documentId="1" formId="30100902" id="TKMNY_AMUT_2" type="edit" value="" />
     <FieldInfo documentId="1" formId="30100902" id="CALL" type="check" value="" />
     <JavaScript><![CDATA[function setName(empty, value, call)
            {
              if(call == "true") return "false";
              return (Number(value.replace(/[^0-9]/g, '')) >= 5000000) ? "true" : "false";
            }]]></JavaScript>
    </Condition>
    <Action method="LoadForm">
     <FormInfo documentId="1" formId="30100113" replace="false" oldDocumentId="" />
    </Action>
    <Action method="CopyFieldValue">
     <FieldInfo documentId="1" formId="30100902" id="TKMNY_ACNO" type="edit" value="" />
     <FieldInfo documentId="1" formId="30100113" id="ACNO" type="edit" value="" />
    </Action>
    <Action method="SetEssential">
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_1_Y" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_1_N" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_2_Y" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_2_N" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_3_Y" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_3_N" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_4_Y" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_4_N" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_5_Y" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="IDNTY_5_N" type="radio" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="P_CUST_NM" type="pen" essential="true" />
     <FieldInfo documentId="1" formId="30100113" id="P_CUST_SIGN" type="pen" essential="true" />
    </Action>
    <ElseReaction>
     <Action method="SetEssential">
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_1_Y" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_1_N" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_2_Y" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_2_N" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_3_Y" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_3_N" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_4_Y" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_4_N" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_5_Y" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="IDNTY_5_N" type="radio" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="P_CUST_NM" type="pen" essential="false" />
      <FieldInfo documentId="1" formId="30100113" id="P_CUST_SIGN" type="pen" essential="false" />
     </Action>
     <Action method="DeleteForm">
      <FormInfo documentId="1" formId="30100113" replace="false" oldDocumentId="" />
     </Action>
    </ElseReaction>
   </Reaction>
  </SetValueCompleteField>
  <!-- 통장프린트 보이기 -->
  <SetValueCompleteField documentId="1" formId="30100902" fieldId="check_print">
   <Reaction>
    <Action method="ShowHideField">
     <FieldInfo documentId="1" formId="30100902" id="K_1" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_2" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_3" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_4" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_5" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_6" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_7" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_8" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_TYPE" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_ACNO" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_ACNM" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_TRSF_NO" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_AMUT" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_FEE" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_AFTR_AMUT" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_BANK" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_BANK_CD" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_BANK_ACNO" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_BANK_ACNM" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_CPCD" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_DATE" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_YEAR" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_MONTH" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_DAY" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_TMP" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_SUM_AMUT" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_SUM_AMUT" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_NO_1" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_BRC_1" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_BRC_2" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_BRC_NO" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_BRC_ID" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="K_NO" type="edit" value="true" />
     <FieldInfo documentId="1" formId="30100902" id="V_NO" type="edit" value="true" />
    </Action>
   </Reaction>
  </SetValueCompleteField>
 </ReactionRules>
 <!-- ******************** 서식 -> 단말 전송 ******************** -->
 <SetValueToTerminalActions>
  <!-- 전자문서를 호출한 단말 화면번호 -->
  <MainTerminalScreenNo>3531</MainTerminalScreenNo>
  <SetValueToTerminalScreen screenNo="3531">
   <!-- M   E   T   A -->
   <SetValueToTerminalMethod T_FieldId="meta_accNo">
    <FieldInfo documentId="1" formId="30100902" id="TKMNY_ACNO" type="edit" value="" />
   </SetValueToTerminalMethod>
   <!-- 3531 : 은행이체출금 -->
   <SetValueToTerminalMethod T_FieldId="3531_D1출금계좌번호">
    <FieldInfo documentId="1" formId="30100902" id="TKMNY_ACNO" type="edit" value="" />
   </SetValueToTerminalMethod>
   <SetValueToTerminalMethod T_FieldId="3531_D1출금금액">
    <FieldInfo documentId="1" formId="30100902" id="TKMNY_AMUT_2" type="edit" value="" />
   </SetValueToTerminalMethod>
   <SetValueToTerminalMethod T_FieldId="3531_D1은행계좌번호">
    <FieldInfo documentId="1" formId="30100902" id="TRSF_ACNO" type="edit" value="" />
   </SetValueToTerminalMethod>
   <SetValueToTerminalMethod T_FieldId="3531_D1전화국번호">
    <FieldInfo documentId="1" formId="30100902" id="tlno_1" type="edit" value="" />
   </SetValueToTerminalMethod>
   <SetValueToTerminalMethod T_FieldId="3531_D1전화지역번호">
    <FieldInfo documentId="1" formId="30100902" id="tlno_2" type="edit" value="" />
   </SetValueToTerminalMethod>
   <SetValueToTerminalMethod T_FieldId="3531_D1전화일련번호">
    <FieldInfo documentId="1" formId="30100902" id="tlno_3" type="edit" value="" />
   </SetValueToTerminalMethod>
  </SetValueToTerminalScreen>
 </SetValueToTerminalActions>
 <!-- ******************** 서식로드 이후에 해야 할 일을 정의 ******************** -->
 <ProcessAfterFormLoadComplete />
 <!-- ******************** 작성완료를 진행할 수 있는지 여부를 정의 ******************** -->
</BusinessLogicXML>
